{
  "extends": ["config:base"],
  "automerge": false,
  "assignees": ["jeversol"],

  "argocd": {
    "enabled": true,
    "managerFilePatterns": [
      "^argocd/applications/.*\\.ya?ml$"
    ]
  },

  "kubernetes": {
    "managerFilePatterns": [
      // Skip Argo CD apps (handled above) and kustomization files (handled by kustomize)
      "!^argocd/applications/.*\\.ya?ml$",
      "!/(^|/)kustomization\\.ya?ml$/",
      // Then match everything else
      "\\.ya?ml$"
    ]
  },

  "regexManagers": [
    {
      "fileMatch": ["^infrastructure/cluster/track-versions\\.ya?ml$"],
      "matchStrings": ["talosVersion:\\s+v?(?<currentValue>\\d+\\.\\d+\\.\\d+)"],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "talos-systems/talos",
      "versioningTemplate": "semver"
    },
    {
      "fileMatch": ["^infrastructure/cluster/track-versions\\.ya?ml$"],
      "matchStrings": ["kubernetesVersion:\\s+v?(?<currentValue>\\d+\\.\\d+\\.\\d+)"],
      "datasourceTemplate": "github-tags",
      "depNameTemplate": "kubernetes/kubernetes",
      "versioningTemplate": "semver"
    }
  ]
}